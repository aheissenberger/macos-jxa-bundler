{"version":3,"file":"init.js","sources":["../../../node_modules/fs-extra/node_modules/universalify/index.js","../../../node_modules/graceful-fs/polyfills.js","../../../node_modules/graceful-fs/legacy-streams.js","../../../node_modules/graceful-fs/clone.js","../../../node_modules/graceful-fs/graceful-fs.js","../../../node_modules/fs-extra/lib/fs/index.js","../../../node_modules/fs-extra/lib/mkdirs/win32.js","../../../node_modules/fs-extra/lib/mkdirs/mkdirs.js","../../../node_modules/fs-extra/lib/mkdirs/mkdirs-sync.js","../../../node_modules/fs-extra/lib/mkdirs/index.js","../../../node_modules/fs-extra/lib/util/utimes.js","../../../node_modules/fs-extra/lib/util/stat.js","../../../node_modules/fs-extra/lib/util/buffer.js","../../../node_modules/fs-extra/lib/copy-sync/copy-sync.js","../../../node_modules/fs-extra/lib/copy-sync/index.js","../../../node_modules/fs-extra/lib/path-exists/index.js","../../../node_modules/fs-extra/lib/copy/copy.js","../../../node_modules/fs-extra/lib/copy/index.js","../../../node_modules/fs-extra/lib/remove/rimraf.js","../../../node_modules/fs-extra/lib/remove/index.js","../../../node_modules/fs-extra/lib/empty/index.js","../../../node_modules/fs-extra/lib/ensure/file.js","../../../node_modules/fs-extra/lib/ensure/link.js","../../../node_modules/fs-extra/lib/ensure/symlink-paths.js","../../../node_modules/fs-extra/lib/ensure/symlink-type.js","../../../node_modules/fs-extra/lib/ensure/symlink.js","../../../node_modules/fs-extra/lib/ensure/index.js","../../../node_modules/jsonfile/index.js","../../../node_modules/fs-extra/lib/json/jsonfile.js","../../../node_modules/fs-extra/lib/json/output-json.js","../../../node_modules/fs-extra/lib/json/output-json-sync.js","../../../node_modules/fs-extra/lib/json/index.js","../../../node_modules/fs-extra/lib/move-sync/move-sync.js","../../../node_modules/fs-extra/lib/move-sync/index.js","../../../node_modules/fs-extra/lib/move/move.js","../../../node_modules/fs-extra/lib/move/index.js","../../../node_modules/fs-extra/lib/output/index.js","../../../node_modules/fs-extra/lib/index.js","../src/init.js"],"sourcesContent":["'use strict'\n\nexports.fromCallback = function (fn) {\n  return Object.defineProperty(function () {\n    if (typeof arguments[arguments.length - 1] === 'function') fn.apply(this, arguments)\n    else {\n      return new Promise((resolve, reject) => {\n        arguments[arguments.length] = (err, res) => {\n          if (err) return reject(err)\n          resolve(res)\n        }\n        arguments.length++\n        fn.apply(this, arguments)\n      })\n    }\n  }, 'name', { value: fn.name })\n}\n\nexports.fromPromise = function (fn) {\n  return Object.defineProperty(function () {\n    const cb = arguments[arguments.length - 1]\n    if (typeof cb !== 'function') return fn.apply(this, arguments)\n    else fn.apply(this, arguments).then(r => cb(null, r), cb)\n  }, 'name', { value: fn.name })\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats.uid < 0) stats.uid += 0x100000000\n      if (stats.gid < 0) stats.gid += 0x100000000\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          retry()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      retry()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return fs$copyFile(src, dest, flags, function (err) {\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([fs$copyFile, [src, dest, flags, cb]])\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    })\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  function readdir (path, options, cb) {\n    var args = [path]\n    if (typeof options !== 'function') {\n      args.push(options)\n    } else {\n      cb = options\n    }\n    args.push(go$readdir$cb)\n\n    return go$readdir(args)\n\n    function go$readdir$cb (err, files) {\n      if (files && files.sort)\n        files.sort()\n\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([go$readdir, [args]])\n\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    }\n  }\n\n  function go$readdir (args) {\n    return fs$readdir.apply(fs, args)\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n}\n\nfunction retry () {\n  var elem = fs[gracefulQueue].shift()\n  if (elem) {\n    debug('RETRY', elem[0].name, elem[1])\n    elem[0].apply(null, elem[1])\n  }\n}\n","'use strict'\n// This is adapted from https://github.com/normalize/mz\n// Copyright (c) 2014-2016 Jonathan Ong me@jongleberry.com and Contributors\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\n\nconst api = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'close',\n  'copyFile',\n  'fchmod',\n  'fchown',\n  'fdatasync',\n  'fstat',\n  'fsync',\n  'ftruncate',\n  'futimes',\n  'lchown',\n  'lchmod',\n  'link',\n  'lstat',\n  'mkdir',\n  'mkdtemp',\n  'open',\n  'readFile',\n  'readdir',\n  'readlink',\n  'realpath',\n  'rename',\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile'\n].filter(key => {\n  // Some commands are not available on some systems. Ex:\n  // fs.copyFile was added in Node.js v8.5.0\n  // fs.mkdtemp was added in Node.js v5.10.0\n  // fs.lchown is not available on at least some Linux\n  return typeof fs[key] === 'function'\n})\n\n// Export all keys:\nObject.keys(fs).forEach(key => {\n  if (key === 'promises') {\n    // fs.promises is a getter property that triggers ExperimentalWarning\n    // Don't re-export it here, the getter is defined in \"lib/index.js\"\n    return\n  }\n  exports[key] = fs[key]\n})\n\n// Universalify async methods:\napi.forEach(method => {\n  exports[method] = u(fs[method])\n})\n\n// We differ from mz/fs in that we still ship the old, broken, fs.exists()\n// since we are a drop-in replacement for the native module\nexports.exists = function (filename, callback) {\n  if (typeof callback === 'function') {\n    return fs.exists(filename, callback)\n  }\n  return new Promise(resolve => {\n    return fs.exists(filename, resolve)\n  })\n}\n\n// fs.read() & fs.write need special treatment due to multiple callback args\n\nexports.read = function (fd, buffer, offset, length, position, callback) {\n  if (typeof callback === 'function') {\n    return fs.read(fd, buffer, offset, length, position, callback)\n  }\n  return new Promise((resolve, reject) => {\n    fs.read(fd, buffer, offset, length, position, (err, bytesRead, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesRead, buffer })\n    })\n  })\n}\n\n// Function signature can be\n// fs.write(fd, buffer[, offset[, length[, position]]], callback)\n// OR\n// fs.write(fd, string[, position[, encoding]], callback)\n// We need to handle both cases, so we use ...args\nexports.write = function (fd, buffer, ...args) {\n  if (typeof args[args.length - 1] === 'function') {\n    return fs.write(fd, buffer, ...args)\n  }\n\n  return new Promise((resolve, reject) => {\n    fs.write(fd, buffer, ...args, (err, bytesWritten, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesWritten, buffer })\n    })\n  })\n}\n\n// fs.realpath.native only available in Node v9.2+\nif (typeof fs.realpath.native === 'function') {\n  exports.realpath.native = u(fs.realpath.native)\n}\n","'use strict'\n\nconst path = require('path')\n\n// get drive on windows\nfunction getRootPath (p) {\n  p = path.normalize(path.resolve(p)).split(path.sep)\n  if (p.length > 0) return p[0]\n  return null\n}\n\n// http://stackoverflow.com/a/62888/10333 contains more accurate\n// TODO: expand to include the rest\nconst INVALID_PATH_CHARS = /[<>:\"|?*]/\n\nfunction invalidWin32Path (p) {\n  const rp = getRootPath(p)\n  p = p.replace(rp, '')\n  return INVALID_PATH_CHARS.test(p)\n}\n\nmodule.exports = {\n  getRootPath,\n  invalidWin32Path\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst invalidWin32Path = require('./win32').invalidWin32Path\n\nconst o777 = parseInt('0777', 8)\n\nfunction mkdirs (p, opts, callback, made) {\n  if (typeof opts === 'function') {\n    callback = opts\n    opts = {}\n  } else if (!opts || typeof opts !== 'object') {\n    opts = { mode: opts }\n  }\n\n  if (process.platform === 'win32' && invalidWin32Path(p)) {\n    const errInval = new Error(p + ' contains invalid WIN32 path characters.')\n    errInval.code = 'EINVAL'\n    return callback(errInval)\n  }\n\n  let mode = opts.mode\n  const xfs = opts.fs || fs\n\n  if (mode === undefined) {\n    mode = o777 & (~process.umask())\n  }\n  if (!made) made = null\n\n  callback = callback || function () {}\n  p = path.resolve(p)\n\n  xfs.mkdir(p, mode, er => {\n    if (!er) {\n      made = made || p\n      return callback(null, made)\n    }\n    switch (er.code) {\n      case 'ENOENT':\n        if (path.dirname(p) === p) return callback(er)\n        mkdirs(path.dirname(p), opts, (er, made) => {\n          if (er) callback(er, made)\n          else mkdirs(p, opts, callback, made)\n        })\n        break\n\n      // In the case of any other error, just see if there's a dir\n      // there already.  If so, then hooray!  If not, then something\n      // is borked.\n      default:\n        xfs.stat(p, (er2, stat) => {\n          // if the stat fails, then that's super weird.\n          // let the original error be the failure reason.\n          if (er2 || !stat.isDirectory()) callback(er, made)\n          else callback(null, made)\n        })\n        break\n    }\n  })\n}\n\nmodule.exports = mkdirs\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst invalidWin32Path = require('./win32').invalidWin32Path\n\nconst o777 = parseInt('0777', 8)\n\nfunction mkdirsSync (p, opts, made) {\n  if (!opts || typeof opts !== 'object') {\n    opts = { mode: opts }\n  }\n\n  let mode = opts.mode\n  const xfs = opts.fs || fs\n\n  if (process.platform === 'win32' && invalidWin32Path(p)) {\n    const errInval = new Error(p + ' contains invalid WIN32 path characters.')\n    errInval.code = 'EINVAL'\n    throw errInval\n  }\n\n  if (mode === undefined) {\n    mode = o777 & (~process.umask())\n  }\n  if (!made) made = null\n\n  p = path.resolve(p)\n\n  try {\n    xfs.mkdirSync(p, mode)\n    made = made || p\n  } catch (err0) {\n    if (err0.code === 'ENOENT') {\n      if (path.dirname(p) === p) throw err0\n      made = mkdirsSync(path.dirname(p), opts, made)\n      mkdirsSync(p, opts, made)\n    } else {\n      // In the case of any other error, just see if there's a dir there\n      // already. If so, then hooray!  If not, then something is borked.\n      let stat\n      try {\n        stat = xfs.statSync(p)\n      } catch (err1) {\n        throw err0\n      }\n      if (!stat.isDirectory()) throw err0\n    }\n  }\n\n  return made\n}\n\nmodule.exports = mkdirsSync\n","'use strict'\nconst u = require('universalify').fromCallback\nconst mkdirs = u(require('./mkdirs'))\nconst mkdirsSync = require('./mkdirs-sync')\n\nmodule.exports = {\n  mkdirs,\n  mkdirsSync,\n  // alias\n  mkdirp: mkdirs,\n  mkdirpSync: mkdirsSync,\n  ensureDir: mkdirs,\n  ensureDirSync: mkdirsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst os = require('os')\nconst path = require('path')\n\n// HFS, ext{2,3}, FAT do not, Node.js v0.10 does not\nfunction hasMillisResSync () {\n  let tmpfile = path.join('millis-test-sync' + Date.now().toString() + Math.random().toString().slice(2))\n  tmpfile = path.join(os.tmpdir(), tmpfile)\n\n  // 550 millis past UNIX epoch\n  const d = new Date(1435410243862)\n  fs.writeFileSync(tmpfile, 'https://github.com/jprichardson/node-fs-extra/pull/141')\n  const fd = fs.openSync(tmpfile, 'r+')\n  fs.futimesSync(fd, d, d)\n  fs.closeSync(fd)\n  return fs.statSync(tmpfile).mtime > 1435410243000\n}\n\nfunction hasMillisRes (callback) {\n  let tmpfile = path.join('millis-test' + Date.now().toString() + Math.random().toString().slice(2))\n  tmpfile = path.join(os.tmpdir(), tmpfile)\n\n  // 550 millis past UNIX epoch\n  const d = new Date(1435410243862)\n  fs.writeFile(tmpfile, 'https://github.com/jprichardson/node-fs-extra/pull/141', err => {\n    if (err) return callback(err)\n    fs.open(tmpfile, 'r+', (err, fd) => {\n      if (err) return callback(err)\n      fs.futimes(fd, d, d, err => {\n        if (err) return callback(err)\n        fs.close(fd, err => {\n          if (err) return callback(err)\n          fs.stat(tmpfile, (err, stats) => {\n            if (err) return callback(err)\n            callback(null, stats.mtime > 1435410243000)\n          })\n        })\n      })\n    })\n  })\n}\n\nfunction timeRemoveMillis (timestamp) {\n  if (typeof timestamp === 'number') {\n    return Math.floor(timestamp / 1000) * 1000\n  } else if (timestamp instanceof Date) {\n    return new Date(Math.floor(timestamp.getTime() / 1000) * 1000)\n  } else {\n    throw new Error('fs-extra: timeRemoveMillis() unknown parameter type')\n  }\n}\n\nfunction utimesMillis (path, atime, mtime, callback) {\n  // if (!HAS_MILLIS_RES) return fs.utimes(path, atime, mtime, callback)\n  fs.open(path, 'r+', (err, fd) => {\n    if (err) return callback(err)\n    fs.futimes(fd, atime, mtime, futimesErr => {\n      fs.close(fd, closeErr => {\n        if (callback) callback(futimesErr || closeErr)\n      })\n    })\n  })\n}\n\nfunction utimesMillisSync (path, atime, mtime) {\n  const fd = fs.openSync(path, 'r+')\n  fs.futimesSync(fd, atime, mtime)\n  return fs.closeSync(fd)\n}\n\nmodule.exports = {\n  hasMillisRes,\n  hasMillisResSync,\n  timeRemoveMillis,\n  utimesMillis,\n  utimesMillisSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\n\nconst NODE_VERSION_MAJOR_WITH_BIGINT = 10\nconst NODE_VERSION_MINOR_WITH_BIGINT = 5\nconst NODE_VERSION_PATCH_WITH_BIGINT = 0\nconst nodeVersion = process.versions.node.split('.')\nconst nodeVersionMajor = Number.parseInt(nodeVersion[0], 10)\nconst nodeVersionMinor = Number.parseInt(nodeVersion[1], 10)\nconst nodeVersionPatch = Number.parseInt(nodeVersion[2], 10)\n\nfunction nodeSupportsBigInt () {\n  if (nodeVersionMajor > NODE_VERSION_MAJOR_WITH_BIGINT) {\n    return true\n  } else if (nodeVersionMajor === NODE_VERSION_MAJOR_WITH_BIGINT) {\n    if (nodeVersionMinor > NODE_VERSION_MINOR_WITH_BIGINT) {\n      return true\n    } else if (nodeVersionMinor === NODE_VERSION_MINOR_WITH_BIGINT) {\n      if (nodeVersionPatch >= NODE_VERSION_PATCH_WITH_BIGINT) {\n        return true\n      }\n    }\n  }\n  return false\n}\n\nfunction getStats (src, dest, cb) {\n  if (nodeSupportsBigInt()) {\n    fs.stat(src, { bigint: true }, (err, srcStat) => {\n      if (err) return cb(err)\n      fs.stat(dest, { bigint: true }, (err, destStat) => {\n        if (err) {\n          if (err.code === 'ENOENT') return cb(null, { srcStat, destStat: null })\n          return cb(err)\n        }\n        return cb(null, { srcStat, destStat })\n      })\n    })\n  } else {\n    fs.stat(src, (err, srcStat) => {\n      if (err) return cb(err)\n      fs.stat(dest, (err, destStat) => {\n        if (err) {\n          if (err.code === 'ENOENT') return cb(null, { srcStat, destStat: null })\n          return cb(err)\n        }\n        return cb(null, { srcStat, destStat })\n      })\n    })\n  }\n}\n\nfunction getStatsSync (src, dest) {\n  let srcStat, destStat\n  if (nodeSupportsBigInt()) {\n    srcStat = fs.statSync(src, { bigint: true })\n  } else {\n    srcStat = fs.statSync(src)\n  }\n  try {\n    if (nodeSupportsBigInt()) {\n      destStat = fs.statSync(dest, { bigint: true })\n    } else {\n      destStat = fs.statSync(dest)\n    }\n  } catch (err) {\n    if (err.code === 'ENOENT') return { srcStat, destStat: null }\n    throw err\n  }\n  return { srcStat, destStat }\n}\n\nfunction checkPaths (src, dest, funcName, cb) {\n  getStats(src, dest, (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    if (destStat && destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n      return cb(new Error('Source and destination must not be the same.'))\n    }\n    if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n      return cb(new Error(errMsg(src, dest, funcName)))\n    }\n    return cb(null, { srcStat, destStat })\n  })\n}\n\nfunction checkPathsSync (src, dest, funcName) {\n  const { srcStat, destStat } = getStatsSync(src, dest)\n  if (destStat && destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n    throw new Error('Source and destination must not be the same.')\n  }\n  if (srcStat.isDirectory() && isSrcSubdir(src, dest)) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return { srcStat, destStat }\n}\n\n// recursively check if dest parent is a subdirectory of src.\n// It works for all file types including symlinks since it\n// checks the src and dest inodes. It starts from the deepest\n// parent and stops once it reaches the src parent or the root path.\nfunction checkParentPaths (src, srcStat, dest, funcName, cb) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return cb()\n  if (nodeSupportsBigInt()) {\n    fs.stat(destParent, { bigint: true }, (err, destStat) => {\n      if (err) {\n        if (err.code === 'ENOENT') return cb()\n        return cb(err)\n      }\n      if (destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n        return cb(new Error(errMsg(src, dest, funcName)))\n      }\n      return checkParentPaths(src, srcStat, destParent, funcName, cb)\n    })\n  } else {\n    fs.stat(destParent, (err, destStat) => {\n      if (err) {\n        if (err.code === 'ENOENT') return cb()\n        return cb(err)\n      }\n      if (destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n        return cb(new Error(errMsg(src, dest, funcName)))\n      }\n      return checkParentPaths(src, srcStat, destParent, funcName, cb)\n    })\n  }\n}\n\nfunction checkParentPathsSync (src, srcStat, dest, funcName) {\n  const srcParent = path.resolve(path.dirname(src))\n  const destParent = path.resolve(path.dirname(dest))\n  if (destParent === srcParent || destParent === path.parse(destParent).root) return\n  let destStat\n  try {\n    if (nodeSupportsBigInt()) {\n      destStat = fs.statSync(destParent, { bigint: true })\n    } else {\n      destStat = fs.statSync(destParent)\n    }\n  } catch (err) {\n    if (err.code === 'ENOENT') return\n    throw err\n  }\n  if (destStat.ino && destStat.dev && destStat.ino === srcStat.ino && destStat.dev === srcStat.dev) {\n    throw new Error(errMsg(src, dest, funcName))\n  }\n  return checkParentPathsSync(src, srcStat, destParent, funcName)\n}\n\n// return true if dest is a subdir of src, otherwise false.\n// It only checks the path strings.\nfunction isSrcSubdir (src, dest) {\n  const srcArr = path.resolve(src).split(path.sep).filter(i => i)\n  const destArr = path.resolve(dest).split(path.sep).filter(i => i)\n  return srcArr.reduce((acc, cur, i) => acc && destArr[i] === cur, true)\n}\n\nfunction errMsg (src, dest, funcName) {\n  return `Cannot ${funcName} '${src}' to a subdirectory of itself, '${dest}'.`\n}\n\nmodule.exports = {\n  checkPaths,\n  checkPathsSync,\n  checkParentPaths,\n  checkParentPathsSync,\n  isSrcSubdir\n}\n","'use strict'\n/* eslint-disable node/no-deprecated-api */\nmodule.exports = function (size) {\n  if (typeof Buffer.allocUnsafe === 'function') {\n    try {\n      return Buffer.allocUnsafe(size)\n    } catch (e) {\n      return new Buffer(size)\n    }\n  }\n  return new Buffer(size)\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirpSync = require('../mkdirs').mkdirsSync\nconst utimesSync = require('../util/utimes.js').utimesMillisSync\nconst stat = require('../util/stat')\n\nfunction copySync (src, dest, opts) {\n  if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  opts = opts || {}\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  const { srcStat, destStat } = stat.checkPathsSync(src, dest, 'copy')\n  stat.checkParentPathsSync(src, srcStat, dest, 'copy')\n  return handleFilterAndCopy(destStat, src, dest, opts)\n}\n\nfunction handleFilterAndCopy (destStat, src, dest, opts) {\n  if (opts.filter && !opts.filter(src, dest)) return\n  const destParent = path.dirname(dest)\n  if (!fs.existsSync(destParent)) mkdirpSync(destParent)\n  return startCopy(destStat, src, dest, opts)\n}\n\nfunction startCopy (destStat, src, dest, opts) {\n  if (opts.filter && !opts.filter(src, dest)) return\n  return getStats(destStat, src, dest, opts)\n}\n\nfunction getStats (destStat, src, dest, opts) {\n  const statSync = opts.dereference ? fs.statSync : fs.lstatSync\n  const srcStat = statSync(src)\n\n  if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isFile() ||\n           srcStat.isCharacterDevice() ||\n           srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts)\n  else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts)\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts)\n  return mayCopyFile(srcStat, src, dest, opts)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts) {\n  if (opts.overwrite) {\n    fs.unlinkSync(dest)\n    return copyFile(srcStat, src, dest, opts)\n  } else if (opts.errorOnExist) {\n    throw new Error(`'${dest}' already exists`)\n  }\n}\n\nfunction copyFile (srcStat, src, dest, opts) {\n  if (typeof fs.copyFileSync === 'function') {\n    fs.copyFileSync(src, dest)\n    fs.chmodSync(dest, srcStat.mode)\n    if (opts.preserveTimestamps) {\n      return utimesSync(dest, srcStat.atime, srcStat.mtime)\n    }\n    return\n  }\n  return copyFileFallback(srcStat, src, dest, opts)\n}\n\nfunction copyFileFallback (srcStat, src, dest, opts) {\n  const BUF_LENGTH = 64 * 1024\n  const _buff = require('../util/buffer')(BUF_LENGTH)\n\n  const fdr = fs.openSync(src, 'r')\n  const fdw = fs.openSync(dest, 'w', srcStat.mode)\n  let pos = 0\n\n  while (pos < srcStat.size) {\n    const bytesRead = fs.readSync(fdr, _buff, 0, BUF_LENGTH, pos)\n    fs.writeSync(fdw, _buff, 0, bytesRead)\n    pos += bytesRead\n  }\n\n  if (opts.preserveTimestamps) fs.futimesSync(fdw, srcStat.atime, srcStat.mtime)\n\n  fs.closeSync(fdr)\n  fs.closeSync(fdw)\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts) {\n  if (!destStat) return mkDirAndCopy(srcStat, src, dest, opts)\n  if (destStat && !destStat.isDirectory()) {\n    throw new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`)\n  }\n  return copyDir(src, dest, opts)\n}\n\nfunction mkDirAndCopy (srcStat, src, dest, opts) {\n  fs.mkdirSync(dest)\n  copyDir(src, dest, opts)\n  return fs.chmodSync(dest, srcStat.mode)\n}\n\nfunction copyDir (src, dest, opts) {\n  fs.readdirSync(src).forEach(item => copyDirItem(item, src, dest, opts))\n}\n\nfunction copyDirItem (item, src, dest, opts) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  const { destStat } = stat.checkPathsSync(srcItem, destItem, 'copy')\n  return startCopy(destStat, srcItem, destItem, opts)\n}\n\nfunction onLink (destStat, src, dest, opts) {\n  let resolvedSrc = fs.readlinkSync(src)\n  if (opts.dereference) {\n    resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n  }\n\n  if (!destStat) {\n    return fs.symlinkSync(resolvedSrc, dest)\n  } else {\n    let resolvedDest\n    try {\n      resolvedDest = fs.readlinkSync(dest)\n    } catch (err) {\n      // dest exists and is a regular file or directory,\n      // Windows may throw UNKNOWN error. If dest already exists,\n      // fs throws error anyway, so no need to guard against it here.\n      if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlinkSync(resolvedSrc, dest)\n      throw err\n    }\n    if (opts.dereference) {\n      resolvedDest = path.resolve(process.cwd(), resolvedDest)\n    }\n    if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n      throw new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`)\n    }\n\n    // prevent copy if src is a subdir of dest since unlinking\n    // dest in this case would result in removing src contents\n    // and therefore a broken symlink would be created.\n    if (fs.statSync(dest).isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n      throw new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`)\n    }\n    return copyLink(resolvedSrc, dest)\n  }\n}\n\nfunction copyLink (resolvedSrc, dest) {\n  fs.unlinkSync(dest)\n  return fs.symlinkSync(resolvedSrc, dest)\n}\n\nmodule.exports = copySync\n","'use strict'\n\nmodule.exports = {\n  copySync: require('./copy-sync')\n}\n","'use strict'\nconst u = require('universalify').fromPromise\nconst fs = require('../fs')\n\nfunction pathExists (path) {\n  return fs.access(path).then(() => true).catch(() => false)\n}\n\nmodule.exports = {\n  pathExists: u(pathExists),\n  pathExistsSync: fs.existsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdirp = require('../mkdirs').mkdirs\nconst pathExists = require('../path-exists').pathExists\nconst utimes = require('../util/utimes').utimesMillis\nconst stat = require('../util/stat')\n\nfunction copy (src, dest, opts, cb) {\n  if (typeof opts === 'function' && !cb) {\n    cb = opts\n    opts = {}\n  } else if (typeof opts === 'function') {\n    opts = { filter: opts }\n  }\n\n  cb = cb || function () {}\n  opts = opts || {}\n\n  opts.clobber = 'clobber' in opts ? !!opts.clobber : true // default to true for now\n  opts.overwrite = 'overwrite' in opts ? !!opts.overwrite : opts.clobber // overwrite falls back to clobber\n\n  // Warn about using preserveTimestamps on 32-bit node\n  if (opts.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  stat.checkPaths(src, dest, 'copy', (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat, destStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'copy', err => {\n      if (err) return cb(err)\n      if (opts.filter) return handleFilter(checkParentDir, destStat, src, dest, opts, cb)\n      return checkParentDir(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction checkParentDir (destStat, src, dest, opts, cb) {\n  const destParent = path.dirname(dest)\n  pathExists(destParent, (err, dirExists) => {\n    if (err) return cb(err)\n    if (dirExists) return startCopy(destStat, src, dest, opts, cb)\n    mkdirp(destParent, err => {\n      if (err) return cb(err)\n      return startCopy(destStat, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction handleFilter (onInclude, destStat, src, dest, opts, cb) {\n  Promise.resolve(opts.filter(src, dest)).then(include => {\n    if (include) return onInclude(destStat, src, dest, opts, cb)\n    return cb()\n  }, error => cb(error))\n}\n\nfunction startCopy (destStat, src, dest, opts, cb) {\n  if (opts.filter) return handleFilter(getStats, destStat, src, dest, opts, cb)\n  return getStats(destStat, src, dest, opts, cb)\n}\n\nfunction getStats (destStat, src, dest, opts, cb) {\n  const stat = opts.dereference ? fs.stat : fs.lstat\n  stat(src, (err, srcStat) => {\n    if (err) return cb(err)\n\n    if (srcStat.isDirectory()) return onDir(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isFile() ||\n             srcStat.isCharacterDevice() ||\n             srcStat.isBlockDevice()) return onFile(srcStat, destStat, src, dest, opts, cb)\n    else if (srcStat.isSymbolicLink()) return onLink(destStat, src, dest, opts, cb)\n  })\n}\n\nfunction onFile (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return copyFile(srcStat, src, dest, opts, cb)\n  return mayCopyFile(srcStat, src, dest, opts, cb)\n}\n\nfunction mayCopyFile (srcStat, src, dest, opts, cb) {\n  if (opts.overwrite) {\n    fs.unlink(dest, err => {\n      if (err) return cb(err)\n      return copyFile(srcStat, src, dest, opts, cb)\n    })\n  } else if (opts.errorOnExist) {\n    return cb(new Error(`'${dest}' already exists`))\n  } else return cb()\n}\n\nfunction copyFile (srcStat, src, dest, opts, cb) {\n  if (typeof fs.copyFile === 'function') {\n    return fs.copyFile(src, dest, err => {\n      if (err) return cb(err)\n      return setDestModeAndTimestamps(srcStat, dest, opts, cb)\n    })\n  }\n  return copyFileFallback(srcStat, src, dest, opts, cb)\n}\n\nfunction copyFileFallback (srcStat, src, dest, opts, cb) {\n  const rs = fs.createReadStream(src)\n  rs.on('error', err => cb(err)).once('open', () => {\n    const ws = fs.createWriteStream(dest, { mode: srcStat.mode })\n    ws.on('error', err => cb(err))\n      .on('open', () => rs.pipe(ws))\n      .once('close', () => setDestModeAndTimestamps(srcStat, dest, opts, cb))\n  })\n}\n\nfunction setDestModeAndTimestamps (srcStat, dest, opts, cb) {\n  fs.chmod(dest, srcStat.mode, err => {\n    if (err) return cb(err)\n    if (opts.preserveTimestamps) {\n      return utimes(dest, srcStat.atime, srcStat.mtime, cb)\n    }\n    return cb()\n  })\n}\n\nfunction onDir (srcStat, destStat, src, dest, opts, cb) {\n  if (!destStat) return mkDirAndCopy(srcStat, src, dest, opts, cb)\n  if (destStat && !destStat.isDirectory()) {\n    return cb(new Error(`Cannot overwrite non-directory '${dest}' with directory '${src}'.`))\n  }\n  return copyDir(src, dest, opts, cb)\n}\n\nfunction mkDirAndCopy (srcStat, src, dest, opts, cb) {\n  fs.mkdir(dest, err => {\n    if (err) return cb(err)\n    copyDir(src, dest, opts, err => {\n      if (err) return cb(err)\n      return fs.chmod(dest, srcStat.mode, cb)\n    })\n  })\n}\n\nfunction copyDir (src, dest, opts, cb) {\n  fs.readdir(src, (err, items) => {\n    if (err) return cb(err)\n    return copyDirItems(items, src, dest, opts, cb)\n  })\n}\n\nfunction copyDirItems (items, src, dest, opts, cb) {\n  const item = items.pop()\n  if (!item) return cb()\n  return copyDirItem(items, item, src, dest, opts, cb)\n}\n\nfunction copyDirItem (items, item, src, dest, opts, cb) {\n  const srcItem = path.join(src, item)\n  const destItem = path.join(dest, item)\n  stat.checkPaths(srcItem, destItem, 'copy', (err, stats) => {\n    if (err) return cb(err)\n    const { destStat } = stats\n    startCopy(destStat, srcItem, destItem, opts, err => {\n      if (err) return cb(err)\n      return copyDirItems(items, src, dest, opts, cb)\n    })\n  })\n}\n\nfunction onLink (destStat, src, dest, opts, cb) {\n  fs.readlink(src, (err, resolvedSrc) => {\n    if (err) return cb(err)\n    if (opts.dereference) {\n      resolvedSrc = path.resolve(process.cwd(), resolvedSrc)\n    }\n\n    if (!destStat) {\n      return fs.symlink(resolvedSrc, dest, cb)\n    } else {\n      fs.readlink(dest, (err, resolvedDest) => {\n        if (err) {\n          // dest exists and is a regular file or directory,\n          // Windows may throw UNKNOWN error. If dest already exists,\n          // fs throws error anyway, so no need to guard against it here.\n          if (err.code === 'EINVAL' || err.code === 'UNKNOWN') return fs.symlink(resolvedSrc, dest, cb)\n          return cb(err)\n        }\n        if (opts.dereference) {\n          resolvedDest = path.resolve(process.cwd(), resolvedDest)\n        }\n        if (stat.isSrcSubdir(resolvedSrc, resolvedDest)) {\n          return cb(new Error(`Cannot copy '${resolvedSrc}' to a subdirectory of itself, '${resolvedDest}'.`))\n        }\n\n        // do not copy if src is a subdir of dest since unlinking\n        // dest in this case would result in removing src contents\n        // and therefore a broken symlink would be created.\n        if (destStat.isDirectory() && stat.isSrcSubdir(resolvedDest, resolvedSrc)) {\n          return cb(new Error(`Cannot overwrite '${resolvedDest}' with '${resolvedSrc}'.`))\n        }\n        return copyLink(resolvedSrc, dest, cb)\n      })\n    }\n  })\n}\n\nfunction copyLink (resolvedSrc, dest, cb) {\n  fs.unlink(dest, err => {\n    if (err) return cb(err)\n    return fs.symlink(resolvedSrc, dest, cb)\n  })\n}\n\nmodule.exports = copy\n","'use strict'\n\nconst u = require('universalify').fromCallback\nmodule.exports = {\n  copy: u(require('./copy'))\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst assert = require('assert')\n\nconst isWindows = (process.platform === 'win32')\n\nfunction defaults (options) {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n}\n\nfunction rimraf (p, options, cb) {\n  let busyTries = 0\n\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.strictEqual(typeof p, 'string', 'rimraf: path should be a string')\n  assert.strictEqual(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.strictEqual(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  rimraf_(p, options, function CB (er) {\n    if (er) {\n      if ((er.code === 'EBUSY' || er.code === 'ENOTEMPTY' || er.code === 'EPERM') &&\n          busyTries < options.maxBusyTries) {\n        busyTries++\n        const time = busyTries * 100\n        // try again, with the same exact callback as this one.\n        return setTimeout(() => rimraf_(p, options, CB), time)\n      }\n\n      // already gone\n      if (er.code === 'ENOENT') er = null\n    }\n\n    cb(er)\n  })\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nfunction rimraf_ (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === 'ENOENT') {\n      return cb(null)\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === 'EPERM' && isWindows) {\n      return fixWinEPERM(p, options, er, cb)\n    }\n\n    if (st && st.isDirectory()) {\n      return rmdir(p, options, er, cb)\n    }\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === 'ENOENT') {\n          return cb(null)\n        }\n        if (er.code === 'EPERM') {\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        }\n        if (er.code === 'EISDIR') {\n          return rmdir(p, options, er, cb)\n        }\n      }\n      return cb(er)\n    })\n  })\n}\n\nfunction fixWinEPERM (p, options, er, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n  if (er) {\n    assert(er instanceof Error)\n  }\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2) {\n      cb(er2.code === 'ENOENT' ? null : er)\n    } else {\n      options.stat(p, (er3, stats) => {\n        if (er3) {\n          cb(er3.code === 'ENOENT' ? null : er)\n        } else if (stats.isDirectory()) {\n          rmdir(p, options, er, cb)\n        } else {\n          options.unlink(p, cb)\n        }\n      })\n    }\n  })\n}\n\nfunction fixWinEPERMSync (p, options, er) {\n  let stats\n\n  assert(p)\n  assert(options)\n  if (er) {\n    assert(er instanceof Error)\n  }\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  if (stats.isDirectory()) {\n    rmdirSync(p, options, er)\n  } else {\n    options.unlinkSync(p)\n  }\n}\n\nfunction rmdir (p, options, originalEr, cb) {\n  assert(p)\n  assert(options)\n  if (originalEr) {\n    assert(originalEr instanceof Error)\n  }\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM')) {\n      rmkids(p, options, cb)\n    } else if (er && er.code === 'ENOTDIR') {\n      cb(originalEr)\n    } else {\n      cb(er)\n    }\n  })\n}\n\nfunction rmkids (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er) return cb(er)\n\n    let n = files.length\n    let errState\n\n    if (n === 0) return options.rmdir(p, cb)\n\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState) {\n          return\n        }\n        if (er) return cb(errState = er)\n        if (--n === 0) {\n          options.rmdir(p, cb)\n        }\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nfunction rimrafSync (p, options) {\n  let st\n\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.strictEqual(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.strictEqual(typeof options, 'object', 'rimraf: options should be object')\n\n  try {\n    st = options.lstatSync(p)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er.code === 'EPERM' && isWindows) {\n      fixWinEPERMSync(p, options, er)\n    }\n  }\n\n  try {\n    // sunos lets the root user unlink directories, which is... weird.\n    if (st && st.isDirectory()) {\n      rmdirSync(p, options, null)\n    } else {\n      options.unlinkSync(p)\n    }\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    } else if (er.code === 'EPERM') {\n      return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n    } else if (er.code !== 'EISDIR') {\n      throw er\n    }\n    rmdirSync(p, options, er)\n  }\n}\n\nfunction rmdirSync (p, options, originalEr) {\n  assert(p)\n  assert(options)\n  if (originalEr) {\n    assert(originalEr instanceof Error)\n  }\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === 'ENOTDIR') {\n      throw originalEr\n    } else if (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM') {\n      rmkidsSync(p, options)\n    } else if (er.code !== 'ENOENT') {\n      throw er\n    }\n  }\n}\n\nfunction rmkidsSync (p, options) {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  if (isWindows) {\n    // We only end up here once we got ENOTEMPTY at least once, and\n    // at this point, we are guaranteed to have removed all the kids.\n    // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n    // try really hard to delete stuff on windows, because it has a\n    // PROFOUNDLY annoying habit of not closing handles promptly when\n    // files are deleted, resulting in spurious ENOTEMPTY errors.\n    const startTime = Date.now()\n    do {\n      try {\n        const ret = options.rmdirSync(p, options)\n        return ret\n      } catch (er) { }\n    } while (Date.now() - startTime < 500) // give up after 500ms\n  } else {\n    const ret = options.rmdirSync(p, options)\n    return ret\n  }\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst rimraf = require('./rimraf')\n\nmodule.exports = {\n  remove: u(rimraf),\n  removeSync: rimraf.sync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst remove = require('../remove')\n\nconst emptyDir = u(function emptyDir (dir, callback) {\n  callback = callback || function () {}\n  fs.readdir(dir, (err, items) => {\n    if (err) return mkdir.mkdirs(dir, callback)\n\n    items = items.map(item => path.join(dir, item))\n\n    deleteItem()\n\n    function deleteItem () {\n      const item = items.pop()\n      if (!item) return callback()\n      remove.remove(item, err => {\n        if (err) return callback(err)\n        deleteItem()\n      })\n    }\n  })\n})\n\nfunction emptyDirSync (dir) {\n  let items\n  try {\n    items = fs.readdirSync(dir)\n  } catch (err) {\n    return mkdir.mkdirsSync(dir)\n  }\n\n  items.forEach(item => {\n    item = path.join(dir, item)\n    remove.removeSync(item)\n  })\n}\n\nmodule.exports = {\n  emptyDirSync,\n  emptydirSync: emptyDirSync,\n  emptyDir,\n  emptydir: emptyDir\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createFile (file, callback) {\n  function makeFile () {\n    fs.writeFile(file, '', err => {\n      if (err) return callback(err)\n      callback()\n    })\n  }\n\n  fs.stat(file, (err, stats) => { // eslint-disable-line handle-callback-err\n    if (!err && stats.isFile()) return callback()\n    const dir = path.dirname(file)\n    pathExists(dir, (err, dirExists) => {\n      if (err) return callback(err)\n      if (dirExists) return makeFile()\n      mkdir.mkdirs(dir, err => {\n        if (err) return callback(err)\n        makeFile()\n      })\n    })\n  })\n}\n\nfunction createFileSync (file) {\n  let stats\n  try {\n    stats = fs.statSync(file)\n  } catch (e) {}\n  if (stats && stats.isFile()) return\n\n  const dir = path.dirname(file)\n  if (!fs.existsSync(dir)) {\n    mkdir.mkdirsSync(dir)\n  }\n\n  fs.writeFileSync(file, '')\n}\n\nmodule.exports = {\n  createFile: u(createFile),\n  createFileSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createLink (srcpath, dstpath, callback) {\n  function makeLink (srcpath, dstpath) {\n    fs.link(srcpath, dstpath, err => {\n      if (err) return callback(err)\n      callback(null)\n    })\n  }\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureLink')\n        return callback(err)\n      }\n\n      const dir = path.dirname(dstpath)\n      pathExists(dir, (err, dirExists) => {\n        if (err) return callback(err)\n        if (dirExists) return makeLink(srcpath, dstpath)\n        mkdir.mkdirs(dir, err => {\n          if (err) return callback(err)\n          makeLink(srcpath, dstpath)\n        })\n      })\n    })\n  })\n}\n\nfunction createLinkSync (srcpath, dstpath) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  try {\n    fs.lstatSync(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  const dir = path.dirname(dstpath)\n  const dirExists = fs.existsSync(dir)\n  if (dirExists) return fs.linkSync(srcpath, dstpath)\n  mkdir.mkdirsSync(dir)\n\n  return fs.linkSync(srcpath, dstpath)\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n}\n","'use strict'\n\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst pathExists = require('../path-exists').pathExists\n\n/**\n * Function that returns two types of paths, one relative to symlink, and one\n * relative to the current working directory. Checks if path is absolute or\n * relative. If the path is relative, this function checks if the path is\n * relative to symlink or relative to current working directory. This is an\n * initiative to find a smarter `srcpath` to supply when building symlinks.\n * This allows you to determine which path to use out of one of three possible\n * types of source paths. The first is an absolute path. This is detected by\n * `path.isAbsolute()`. When an absolute path is provided, it is checked to\n * see if it exists. If it does it's used, if not an error is returned\n * (callback)/ thrown (sync). The other two options for `srcpath` are a\n * relative url. By default Node's `fs.symlink` works by creating a symlink\n * using `dstpath` and expects the `srcpath` to be relative to the newly\n * created symlink. If you provide a `srcpath` that does not exist on the file\n * system it results in a broken symlink. To minimize this, the function\n * checks to see if the 'relative to symlink' source file exists, and if it\n * does it will use it. If it does not, it checks if there's a file that\n * exists that is relative to the current working directory, if does its used.\n * This preserves the expectations of the original fs.symlink spec and adds\n * the ability to pass in `relative to current working direcotry` paths.\n */\n\nfunction symlinkPaths (srcpath, dstpath, callback) {\n  if (path.isAbsolute(srcpath)) {\n    return fs.lstat(srcpath, (err) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureSymlink')\n        return callback(err)\n      }\n      return callback(null, {\n        'toCwd': srcpath,\n        'toDst': srcpath\n      })\n    })\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    return pathExists(relativeToDst, (err, exists) => {\n      if (err) return callback(err)\n      if (exists) {\n        return callback(null, {\n          'toCwd': relativeToDst,\n          'toDst': srcpath\n        })\n      } else {\n        return fs.lstat(srcpath, (err) => {\n          if (err) {\n            err.message = err.message.replace('lstat', 'ensureSymlink')\n            return callback(err)\n          }\n          return callback(null, {\n            'toCwd': srcpath,\n            'toDst': path.relative(dstdir, srcpath)\n          })\n        })\n      }\n    })\n  }\n}\n\nfunction symlinkPathsSync (srcpath, dstpath) {\n  let exists\n  if (path.isAbsolute(srcpath)) {\n    exists = fs.existsSync(srcpath)\n    if (!exists) throw new Error('absolute srcpath does not exist')\n    return {\n      'toCwd': srcpath,\n      'toDst': srcpath\n    }\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    exists = fs.existsSync(relativeToDst)\n    if (exists) {\n      return {\n        'toCwd': relativeToDst,\n        'toDst': srcpath\n      }\n    } else {\n      exists = fs.existsSync(srcpath)\n      if (!exists) throw new Error('relative srcpath does not exist')\n      return {\n        'toCwd': srcpath,\n        'toDst': path.relative(dstdir, srcpath)\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  symlinkPaths,\n  symlinkPathsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\n\nfunction symlinkType (srcpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n  if (type) return callback(null, type)\n  fs.lstat(srcpath, (err, stats) => {\n    if (err) return callback(null, 'file')\n    type = (stats && stats.isDirectory()) ? 'dir' : 'file'\n    callback(null, type)\n  })\n}\n\nfunction symlinkTypeSync (srcpath, type) {\n  let stats\n\n  if (type) return type\n  try {\n    stats = fs.lstatSync(srcpath)\n  } catch (e) {\n    return 'file'\n  }\n  return (stats && stats.isDirectory()) ? 'dir' : 'file'\n}\n\nmodule.exports = {\n  symlinkType,\n  symlinkTypeSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst _mkdirs = require('../mkdirs')\nconst mkdirs = _mkdirs.mkdirs\nconst mkdirsSync = _mkdirs.mkdirsSync\n\nconst _symlinkPaths = require('./symlink-paths')\nconst symlinkPaths = _symlinkPaths.symlinkPaths\nconst symlinkPathsSync = _symlinkPaths.symlinkPathsSync\n\nconst _symlinkType = require('./symlink-type')\nconst symlinkType = _symlinkType.symlinkType\nconst symlinkTypeSync = _symlinkType.symlinkTypeSync\n\nconst pathExists = require('../path-exists').pathExists\n\nfunction createSymlink (srcpath, dstpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    symlinkPaths(srcpath, dstpath, (err, relative) => {\n      if (err) return callback(err)\n      srcpath = relative.toDst\n      symlinkType(relative.toCwd, type, (err, type) => {\n        if (err) return callback(err)\n        const dir = path.dirname(dstpath)\n        pathExists(dir, (err, dirExists) => {\n          if (err) return callback(err)\n          if (dirExists) return fs.symlink(srcpath, dstpath, type, callback)\n          mkdirs(dir, err => {\n            if (err) return callback(err)\n            fs.symlink(srcpath, dstpath, type, callback)\n          })\n        })\n      })\n    })\n  })\n}\n\nfunction createSymlinkSync (srcpath, dstpath, type) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  const relative = symlinkPathsSync(srcpath, dstpath)\n  srcpath = relative.toDst\n  type = symlinkTypeSync(relative.toCwd, type)\n  const dir = path.dirname(dstpath)\n  const exists = fs.existsSync(dir)\n  if (exists) return fs.symlinkSync(srcpath, dstpath, type)\n  mkdirsSync(dir)\n  return fs.symlinkSync(srcpath, dstpath, type)\n}\n\nmodule.exports = {\n  createSymlink: u(createSymlink),\n  createSymlinkSync\n}\n","'use strict'\n\nconst file = require('./file')\nconst link = require('./link')\nconst symlink = require('./symlink')\n\nmodule.exports = {\n  // file\n  createFile: file.createFile,\n  createFileSync: file.createFileSync,\n  ensureFile: file.createFile,\n  ensureFileSync: file.createFileSync,\n  // link\n  createLink: link.createLink,\n  createLinkSync: link.createLinkSync,\n  ensureLink: link.createLink,\n  ensureLinkSync: link.createLinkSync,\n  // symlink\n  createSymlink: symlink.createSymlink,\n  createSymlinkSync: symlink.createSymlinkSync,\n  ensureSymlink: symlink.createSymlink,\n  ensureSymlinkSync: symlink.createSymlinkSync\n}\n","var _fs\ntry {\n  _fs = require('graceful-fs')\n} catch (_) {\n  _fs = require('fs')\n}\n\nfunction readFile (file, options, callback) {\n  if (callback == null) {\n    callback = options\n    options = {}\n  }\n\n  if (typeof options === 'string') {\n    options = {encoding: options}\n  }\n\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var shouldThrow = true\n  if ('throws' in options) {\n    shouldThrow = options.throws\n  }\n\n  fs.readFile(file, options, function (err, data) {\n    if (err) return callback(err)\n\n    data = stripBom(data)\n\n    var obj\n    try {\n      obj = JSON.parse(data, options ? options.reviver : null)\n    } catch (err2) {\n      if (shouldThrow) {\n        err2.message = file + ': ' + err2.message\n        return callback(err2)\n      } else {\n        return callback(null, null)\n      }\n    }\n\n    callback(null, obj)\n  })\n}\n\nfunction readFileSync (file, options) {\n  options = options || {}\n  if (typeof options === 'string') {\n    options = {encoding: options}\n  }\n\n  var fs = options.fs || _fs\n\n  var shouldThrow = true\n  if ('throws' in options) {\n    shouldThrow = options.throws\n  }\n\n  try {\n    var content = fs.readFileSync(file, options)\n    content = stripBom(content)\n    return JSON.parse(content, options.reviver)\n  } catch (err) {\n    if (shouldThrow) {\n      err.message = file + ': ' + err.message\n      throw err\n    } else {\n      return null\n    }\n  }\n}\n\nfunction stringify (obj, options) {\n  var spaces\n  var EOL = '\\n'\n  if (typeof options === 'object' && options !== null) {\n    if (options.spaces) {\n      spaces = options.spaces\n    }\n    if (options.EOL) {\n      EOL = options.EOL\n    }\n  }\n\n  var str = JSON.stringify(obj, options ? options.replacer : null, spaces)\n\n  return str.replace(/\\n/g, EOL) + EOL\n}\n\nfunction writeFile (file, obj, options, callback) {\n  if (callback == null) {\n    callback = options\n    options = {}\n  }\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var str = ''\n  try {\n    str = stringify(obj, options)\n  } catch (err) {\n    // Need to return whether a callback was passed or not\n    if (callback) callback(err, null)\n    return\n  }\n\n  fs.writeFile(file, str, options, callback)\n}\n\nfunction writeFileSync (file, obj, options) {\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var str = stringify(obj, options)\n  // not sure if fs.writeFileSync returns anything, but just in case\n  return fs.writeFileSync(file, str, options)\n}\n\nfunction stripBom (content) {\n  // we do this because JSON.parse would convert it to a utf8 string if encoding wasn't specified\n  if (Buffer.isBuffer(content)) content = content.toString('utf8')\n  content = content.replace(/^\\uFEFF/, '')\n  return content\n}\n\nvar jsonfile = {\n  readFile: readFile,\n  readFileSync: readFileSync,\n  writeFile: writeFile,\n  writeFileSync: writeFileSync\n}\n\nmodule.exports = jsonfile\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst jsonFile = require('jsonfile')\n\nmodule.exports = {\n  // jsonfile exports\n  readJson: u(jsonFile.readFile),\n  readJsonSync: jsonFile.readFileSync,\n  writeJson: u(jsonFile.writeFile),\n  writeJsonSync: jsonFile.writeFileSync\n}\n","'use strict'\n\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\nconst jsonFile = require('./jsonfile')\n\nfunction outputJson (file, data, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  const dir = path.dirname(file)\n\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return jsonFile.writeJson(file, data, options, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n      jsonFile.writeJson(file, data, options, callback)\n    })\n  })\n}\n\nmodule.exports = outputJson\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst jsonFile = require('./jsonfile')\n\nfunction outputJsonSync (file, data, options) {\n  const dir = path.dirname(file)\n\n  if (!fs.existsSync(dir)) {\n    mkdir.mkdirsSync(dir)\n  }\n\n  jsonFile.writeJsonSync(file, data, options)\n}\n\nmodule.exports = outputJsonSync\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst jsonFile = require('./jsonfile')\n\njsonFile.outputJson = u(require('./output-json'))\njsonFile.outputJsonSync = require('./output-json-sync')\n// aliases\njsonFile.outputJSON = jsonFile.outputJson\njsonFile.outputJSONSync = jsonFile.outputJsonSync\njsonFile.writeJSON = jsonFile.writeJson\njsonFile.writeJSONSync = jsonFile.writeJsonSync\njsonFile.readJSON = jsonFile.readJson\njsonFile.readJSONSync = jsonFile.readJsonSync\n\nmodule.exports = jsonFile\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copySync = require('../copy-sync').copySync\nconst removeSync = require('../remove').removeSync\nconst mkdirpSync = require('../mkdirs').mkdirpSync\nconst stat = require('../util/stat')\n\nfunction moveSync (src, dest, opts) {\n  opts = opts || {}\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  const { srcStat } = stat.checkPathsSync(src, dest, 'move')\n  stat.checkParentPathsSync(src, srcStat, dest, 'move')\n  mkdirpSync(path.dirname(dest))\n  return doRename(src, dest, overwrite)\n}\n\nfunction doRename (src, dest, overwrite) {\n  if (overwrite) {\n    removeSync(dest)\n    return rename(src, dest, overwrite)\n  }\n  if (fs.existsSync(dest)) throw new Error('dest already exists.')\n  return rename(src, dest, overwrite)\n}\n\nfunction rename (src, dest, overwrite) {\n  try {\n    fs.renameSync(src, dest)\n  } catch (err) {\n    if (err.code !== 'EXDEV') throw err\n    return moveAcrossDevice(src, dest, overwrite)\n  }\n}\n\nfunction moveAcrossDevice (src, dest, overwrite) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copySync(src, dest, opts)\n  return removeSync(src)\n}\n\nmodule.exports = moveSync\n","'use strict'\n\nmodule.exports = {\n  moveSync: require('./move-sync')\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copy = require('../copy').copy\nconst remove = require('../remove').remove\nconst mkdirp = require('../mkdirs').mkdirp\nconst pathExists = require('../path-exists').pathExists\nconst stat = require('../util/stat')\n\nfunction move (src, dest, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  const overwrite = opts.overwrite || opts.clobber || false\n\n  stat.checkPaths(src, dest, 'move', (err, stats) => {\n    if (err) return cb(err)\n    const { srcStat } = stats\n    stat.checkParentPaths(src, srcStat, dest, 'move', err => {\n      if (err) return cb(err)\n      mkdirp(path.dirname(dest), err => {\n        if (err) return cb(err)\n        return doRename(src, dest, overwrite, cb)\n      })\n    })\n  })\n}\n\nfunction doRename (src, dest, overwrite, cb) {\n  if (overwrite) {\n    return remove(dest, err => {\n      if (err) return cb(err)\n      return rename(src, dest, overwrite, cb)\n    })\n  }\n  pathExists(dest, (err, destExists) => {\n    if (err) return cb(err)\n    if (destExists) return cb(new Error('dest already exists.'))\n    return rename(src, dest, overwrite, cb)\n  })\n}\n\nfunction rename (src, dest, overwrite, cb) {\n  fs.rename(src, dest, err => {\n    if (!err) return cb()\n    if (err.code !== 'EXDEV') return cb(err)\n    return moveAcrossDevice(src, dest, overwrite, cb)\n  })\n}\n\nfunction moveAcrossDevice (src, dest, overwrite, cb) {\n  const opts = {\n    overwrite,\n    errorOnExist: true\n  }\n  copy(src, dest, opts, err => {\n    if (err) return cb(err)\n    return remove(src, cb)\n  })\n}\n\nmodule.exports = move\n","'use strict'\n\nconst u = require('universalify').fromCallback\nmodule.exports = {\n  move: u(require('./move'))\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction outputFile (file, data, encoding, callback) {\n  if (typeof encoding === 'function') {\n    callback = encoding\n    encoding = 'utf8'\n  }\n\n  const dir = path.dirname(file)\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return fs.writeFile(file, data, encoding, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n\n      fs.writeFile(file, data, encoding, callback)\n    })\n  })\n}\n\nfunction outputFileSync (file, ...args) {\n  const dir = path.dirname(file)\n  if (fs.existsSync(dir)) {\n    return fs.writeFileSync(file, ...args)\n  }\n  mkdir.mkdirsSync(dir)\n  fs.writeFileSync(file, ...args)\n}\n\nmodule.exports = {\n  outputFile: u(outputFile),\n  outputFileSync\n}\n","'use strict'\n\nmodule.exports = Object.assign(\n  {},\n  // Export promiseified graceful-fs:\n  require('./fs'),\n  // Export extra methods:\n  require('./copy-sync'),\n  require('./copy'),\n  require('./empty'),\n  require('./ensure'),\n  require('./json'),\n  require('./mkdirs'),\n  require('./move-sync'),\n  require('./move'),\n  require('./output'),\n  require('./path-exists'),\n  require('./remove')\n)\n\n// Export fs.promises as a getter property so that we don't trigger\n// ExperimentalWarning before fs.promises is actually accessed.\nconst fs = require('fs')\nif (Object.getOwnPropertyDescriptor(fs, 'promises')) {\n  Object.defineProperty(module.exports, 'promises', {\n    get () { return fs.promises }\n  })\n}\n","// @remove-file-on-eject\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\n// Makes the script crash on unhandled rejections instead of silently\n// ignoring them. In the future, promise rejections that are not handled will\n// terminate the Node.js process with a non-zero exit code.\n\nimport fs from \"fs-extra\";\nimport path from \"path\";\nimport chalk from \"kleur\";\nimport { execSync } from \"child_process\";\nimport spawn from \"cross-spawn\";\nimport os from \"os\";\n//import //verifyTypeScriptSetup from \"./utils///verifyTypeScriptSetup\";\n\nprocess.on('unhandledRejection', err => {\n    throw err;\n  });\n  \nfunction isInGitRepository() {\n  try {\n    execSync('git rev-parse --is-inside-work-tree', { stdio: 'ignore' });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction isInMercurialRepository() {\n  try {\n    execSync('hg --cwd . root', { stdio: 'ignore' });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction tryGitInit() {\n  try {\n    execSync('git --version', { stdio: 'ignore' });\n    if (isInGitRepository() || isInMercurialRepository()) {\n      return false;\n    }\n\n    execSync('git init', { stdio: 'ignore' });\n    return true;\n  } catch (e) {\n    console.warn('Git repo not initialized', e);\n    return false;\n  }\n}\n\nfunction tryGitCommit(appPath) {\n  try {\n    execSync('git add -A', { stdio: 'ignore' });\n    execSync('git commit -m \"Initialize project using Create JXA App\"', {\n      stdio: 'ignore',\n    });\n    return true;\n  } catch (e) {\n    // We couldn't commit in already initialized git repo,\n    // maybe the commit author config is not set.\n    // In the future, we might supply our own committer\n    // like Ember CLI does, but for now, let's just\n    // remove the Git files to avoid a half-done state.\n    console.warn('Git commit not created', e);\n    console.warn('Removing .git directory...');\n    try {\n      // unlinkSync() doesn't work on directories.\n      fs.removeSync(path.join(appPath, '.git'));\n    } catch (removeErr) {\n      // Ignore.\n    }\n    return false;\n  }\n}\n\nmodule.exports = function (\n  appPath,\n  appName,\n  verbose,\n  originalDirectory,\n  templateName\n) {\n  const appPackage = require(path.join(appPath, 'package.json'));\n  const useYarn = fs.existsSync(path.join(appPath, 'yarn.lock'));\n\n  if (!templateName) {\n    console.log('');\n    console.error(\n      `A template was not provided. This is likely because you're using an outdated version of ${chalk.cyan(\n        'create-jxa-app'\n      )}.`\n    );\n    console.error(\n      `Please note that global installs of ${chalk.cyan(\n        'create-jxa-app'\n      )} are no longer supported.`\n    );\n    console.error(\n      `You can fix this by running ${chalk.cyan(\n        'npm uninstall -g create-jxa-app'\n      )} or ${chalk.cyan(\n        'yarn global remove create-jxa-app'\n      )} before using ${chalk.cyan('create-jxa-app')} again.`\n    );\n    return;\n  }\n\n  const templatePath = path.dirname(\n    require.resolve(`${templateName}/package.json`, { paths: [appPath] })\n  );\n\n  const templateJsonPath = path.join(templatePath, 'template.json');\n\n  let templateJson = {};\n  if (fs.existsSync(templateJsonPath)) {\n    templateJson = require(templateJsonPath);\n  }\n\n  const templatePackage = templateJson.package || {};\n\n  // TODO: Deprecate support for root-level `dependencies` and `scripts` in v5.\n  // These should now be set under the `package` key.\n  if (templateJson.dependencies || templateJson.scripts) {\n    console.log();\n    console.log(\n      chalk.yellow(\n        'Root-level `dependencies` and `scripts` keys in `template.json` are deprecated.\\n' +\n          'This template should be updated to use the new `package` key.'\n      )\n    );\n    console.log('For more information, visit https://https://github.com/aheissenberger/macos-jxa-bundler/create-jxa-app/#templates');\n  }\n  if (templateJson.dependencies) {\n    templatePackage.dependencies = templateJson.dependencies;\n  }\n  if (templateJson.scripts) {\n    templatePackage.scripts = templateJson.scripts;\n  }\n\n  // Keys to ignore in templatePackage\n  const templatePackageBlacklist = [\n    'name',\n    'version',\n    'description',\n    'keywords',\n    'bugs',\n    'license',\n    'author',\n    'contributors',\n    'files',\n    'browser',\n    'bin',\n    'man',\n    'directories',\n    'repository',\n    'peerDependencies',\n    'bundledDependencies',\n    'optionalDependencies',\n    'engineStrict',\n    'os',\n    'cpu',\n    'preferGlobal',\n    'private',\n    'publishConfig',\n  ];\n\n  // Keys from templatePackage that will be merged with appPackage\n  const templatePackageToMerge = ['dependencies', 'scripts'];\n\n  // Keys from templatePackage that will be added to appPackage,\n  // replacing any existing entries.\n  const templatePackageToReplace = Object.keys(templatePackage).filter(key => {\n    return (\n      !templatePackageBlacklist.includes(key) &&\n      !templatePackageToMerge.includes(key)\n    );\n  });\n\n  // Copy over some of the devDependencies\n  appPackage.dependencies = appPackage.dependencies || {};\n\n  // Setup the script rules\n  const templateScripts = templatePackage.scripts || {};\n  appPackage.scripts = Object.assign(\n    {\n      dev: 'jxabundler watch',\n      build: 'jxabundler',\n      test: 'jest'\n    },\n    templateScripts\n  );\n\n  // Update scripts for Yarn users\n  if (useYarn) {\n    appPackage.scripts = Object.entries(appPackage.scripts).reduce(\n      (acc, [key, value]) => ({\n        ...acc,\n        [key]: value.replace(/(npm run |npm )/, 'yarn '),\n      }),\n      {}\n    );\n  }\n\n  // Setup the eslint config\n  appPackage.eslintConfig = {\n    extends: 'react-app',\n  };\n\n\n  // Add templatePackage keys/values to appPackage, replacing existing entries\n  templatePackageToReplace.forEach(key => {\n    appPackage[key] = templatePackage[key];\n  });\n\n  fs.writeFileSync(\n    path.join(appPath, 'package.json'),\n    JSON.stringify(appPackage, null, 2) + os.EOL\n  );\n\n  const readmeExists = fs.existsSync(path.join(appPath, 'README.md'));\n  if (readmeExists) {\n    fs.renameSync(\n      path.join(appPath, 'README.md'),\n      path.join(appPath, 'README.old.md')\n    );\n  }\n\n  // Copy the files for the user\n  const templateDir = path.join(templatePath, 'template');\n  if (fs.existsSync(templateDir)) {\n    fs.copySync(templateDir, appPath);\n  } else {\n    console.error(\n      `Could not locate supplied template: ${chalk.green(templateDir)}`\n    );\n    return;\n  }\n\n  // modifies README.md commands based on user used package manager.\n  if (useYarn) {\n    try {\n      const readme = fs.readFileSync(path.join(appPath, 'README.md'), 'utf8');\n      fs.writeFileSync(\n        path.join(appPath, 'README.md'),\n        readme.replace(/(npm run |npm )/g, 'yarn '),\n        'utf8'\n      );\n    } catch (err) {\n      // Silencing the error. As it fall backs to using default npm commands.\n    }\n  }\n\n  const gitignoreExists = fs.existsSync(path.join(appPath, '.gitignore'));\n  if (gitignoreExists) {\n    // Append if there's already a `.gitignore` file there\n    const data = fs.readFileSync(path.join(appPath, 'gitignore'));\n    fs.appendFileSync(path.join(appPath, '.gitignore'), data);\n    fs.unlinkSync(path.join(appPath, 'gitignore'));\n  } else {\n    // Rename gitignore after the fact to prevent npm from renaming it to .npmignore\n    // See: https://github.com/npm/npm/issues/1862\n    fs.moveSync(\n      path.join(appPath, 'gitignore'),\n      path.join(appPath, '.gitignore'),\n      []\n    );\n  }\n\n  // Initialize git repo\n  let initializedGit = false;\n\n  if (tryGitInit()) {\n    initializedGit = true;\n    console.log();\n    console.log('Initialized a git repository.');\n  }\n\n  let command;\n  let remove;\n  let args;\n\n  if (useYarn) {\n    command = 'yarnpkg';\n    remove = 'remove';\n    args = ['add'];\n  } else {\n    command = 'npm';\n    remove = 'uninstall';\n    args = ['install', '--save', verbose && '--verbose'].filter(e => e);\n  }\n\n  // Install additional template dependencies, if present.\n  const dependenciesToInstall = Object.entries({\n    ...templatePackage.dependencies,\n    ...templatePackage.devDependencies,\n  });\n  if (dependenciesToInstall.length) {\n    args = args.concat(\n      dependenciesToInstall.map(([dependency, version]) => {\n        return `${dependency}@${version}`;\n      })\n    );\n  }\n\n  // Install react and react-dom for backward compatibility with old CRA cli\n  // which doesn't install react and react-dom along with react-scripts\n  if (!isReactInstalled(appPackage)) {\n    args = args.concat(['react', 'react-dom']);\n  }\n\n  // Install template dependencies, and react and react-dom if missing.\n  if ((!isReactInstalled(appPackage) || templateName) && args.length > 1) {\n    console.log();\n    console.log(`Installing template dependencies using ${command}...`);\n\n    const proc = spawn.sync(command, args, { stdio: 'inherit' });\n    if (proc.status !== 0) {\n      console.error(`\\`${command} ${args.join(' ')}\\` failed`);\n      return;\n    }\n  }\n\n  if (args.find(arg => arg.includes('typescript'))) {\n    console.log();\n    //verifyTypeScriptSetup();\n  }\n\n  // Remove template\n  console.log(`Removing template package using ${command}...`);\n  console.log();\n\n  const proc = spawn.sync(command, [remove, templateName], {\n    stdio: 'inherit',\n  });\n  if (proc.status !== 0) {\n    console.error(`\\`${command} ${args.join(' ')}\\` failed`);\n    return;\n  }\n\n  // Create git commit if git repo was initialized\n  if (initializedGit && tryGitCommit(appPath)) {\n    console.log();\n    console.log('Created git commit.');\n  }\n\n  // Display the most elegant way to cd.\n  // This needs to handle an undefined originalDirectory for\n  // backward compatibility with old global-cli's.\n  let cdpath;\n  if (originalDirectory && path.join(originalDirectory, appName) === appPath) {\n    cdpath = appName;\n  } else {\n    cdpath = appPath;\n  }\n\n  // Change displayed command to yarn instead of yarnpkg\n  const displayedCommand = useYarn ? 'yarn' : 'npm';\n\n  console.log();\n  console.log(`Success! Created ${appName} at ${appPath}`);\n  console.log('Inside that directory, you can run several commands:');\n  console.log();\n  console.log(chalk.cyan(`  ${displayedCommand} dev`));\n  console.log('    Starts the development mode.');\n  console.log();\n  console.log(\n    chalk.cyan(`  ${displayedCommand} ${useYarn ? '' : 'run '}build`)\n  );\n  console.log('    Bundles the app into an MacOS App or Command Line Command.');\n  console.log();\n  console.log(chalk.cyan(`  ${displayedCommand} test`));\n  console.log('    Starts the test runner.');\n  console.log();\n  console.log(\n    chalk.cyan(`  ${displayedCommand} ${useYarn ? '' : 'run '}eject`)\n  );\n  console.log(\n    '    Removes this tool and copies build dependencies, configuration files'\n  );\n  console.log(\n    '    and scripts into the app directory. If you do this, you can’t go back!'\n  );\n  console.log();\n  console.log('We suggest that you begin by typing:');\n  console.log();\n  console.log(chalk.cyan('  cd'), cdpath);\n  console.log(`  ${chalk.cyan(`${displayedCommand} start`)}`);\n  if (readmeExists) {\n    console.log();\n    console.log(\n      chalk.yellow(\n        'You had a `README.md` file, we renamed it to `README.old.md`'\n      )\n    );\n  }\n  console.log();\n  console.log('Happy hacking!');\n};\n\nfunction isReactInstalled(appPackage) {\n  const dependencies = appPackage.dependencies || {};\n\n  return (\n    typeof dependencies.react !== 'undefined' &&\n    typeof dependencies['react-dom'] !== 'undefined'\n  );\n}"],"names":["fn","Object","defineProperty","arguments","length","apply","Promise","resolve","reject","err","res","value","name","cb","then","r","origCwd","process","cwd","platform","env","GRACEFUL_FS_PLATFORM","call","er","chdir","d","setPrototypeOf","patch","fs","constants","hasOwnProperty","version","match","patchLchmod","lutimes","patchLutimes","chown","chownFix","fchown","lchown","chmod","chmodFix","fchmod","lchmod","chownSync","chownFixSync","fchownSync","lchownSync","chmodSync","chmodFixSync","fchmodSync","lchmodSync","stat","statFix","fstat","lstat","statSync","statFixSync","fstatSync","lstatSync","path","mode","nextTick","uid","gid","rename","fs$rename","from","to","start","Date","now","backoff","CB","code","setTimeout","stater","st","read","fs$read","fd","buffer","offset","position","callback_","callback","eagCounter","_","__","readSync","fs$readSync","open","O_WRONLY","O_SYMLINK","close","err2","openSync","threw","ret","closeSync","at","mt","futimes","er2","lutimesSync","futimesSync","_a","_b","_c","orig","target","chownErOk","options","stats","nonroot","getuid","Stream","require$$0","legacy","ReadStream","WriteStream","self","readable","paused","flags","bufferSize","keys","index","key","encoding","setEncoding","undefined","TypeError","end","Infinity","Error","pos","_read","emit","writable","bytesWritten","busy","_queue","_open","push","flush","clone","getPrototypeOf","obj","__proto__","copy","create","getOwnPropertyNames","forEach","getOwnPropertyDescriptor","gracefulQueue","previousSymbol","Symbol","for","noop","publishQueue","context","queue","get","debug","util","debuglog","test","NODE_DEBUG","m","format","split","join","console","error","global","fs$close","retry","fs$closeSync","on","equal","module","TEST_GRACEFUL_FS_GLOBAL_PATCH","__patched","polyfills","gracefulify","createReadStream","createWriteStream","fs$readFile","readFile","go$readFile","enqueue","fs$writeFile","writeFile","data","go$writeFile","fs$appendFile","appendFile","go$appendFile","fs$copyFile","copyFile","src","dest","fs$readdir","readdir","args","go$readdir$cb","go$readdir","files","sort","substr","legStreams","fs$ReadStream","prototype","ReadStream$open","fs$WriteStream","WriteStream$open","set","val","enumerable","configurable","FileReadStream","FileWriteStream","that","autoClose","destroy","fs$open","go$open","elem","shift","u","fromCallback","api","filter","exports","method","filename","exists","bytesRead","write","realpath","native","getRootPath","p","normalize","sep","INVALID_PATH_CHARS","invalidWin32Path","rp","replace","o777","parseInt","mkdirs","opts","made","errInval","xfs","umask","mkdir","dirname","isDirectory","mkdirsSync","mkdirSync","err0","err1","require$$1","mkdirp","mkdirpSync","ensureDir","ensureDirSync","hasMillisResSync","tmpfile","toString","Math","random","slice","os","tmpdir","writeFileSync","mtime","hasMillisRes","timeRemoveMillis","timestamp","floor","getTime","utimesMillis","atime","futimesErr","closeErr","utimesMillisSync","NODE_VERSION_MAJOR_WITH_BIGINT","NODE_VERSION_MINOR_WITH_BIGINT","NODE_VERSION_PATCH_WITH_BIGINT","nodeVersion","versions","node","nodeVersionMajor","Number","nodeVersionMinor","nodeVersionPatch","nodeSupportsBigInt","getStats","bigint","srcStat","destStat","getStatsSync","checkPaths","funcName","ino","dev","isSrcSubdir","errMsg","checkPathsSync","checkParentPaths","srcParent","destParent","parse","root","checkParentPathsSync","srcArr","i","destArr","reduce","acc","cur","size","Buffer","allocUnsafe","e","utimesSync","copySync","clobber","overwrite","preserveTimestamps","arch","warn","handleFilterAndCopy","existsSync","startCopy","dereference","onDir","isFile","isCharacterDevice","isBlockDevice","onFile","isSymbolicLink","onLink","mayCopyFile","unlinkSync","errorOnExist","copyFileSync","copyFileFallback","BUF_LENGTH","_buff","require$$2","fdr","fdw","writeSync","mkDirAndCopy","copyDir","readdirSync","item","copyDirItem","srcItem","destItem","resolvedSrc","readlinkSync","symlinkSync","resolvedDest","copyLink","fromPromise","pathExists","access","catch","pathExistsSync","utimes","handleFilter","checkParentDir","dirExists","onInclude","include","unlink","setDestModeAndTimestamps","rs","once","ws","pipe","items","copyDirItems","pop","readlink","symlink","isWindows","defaults","methods","maxBusyTries","rimraf","busyTries","assert","strictEqual","rimraf_","time","fixWinEPERM","rmdir","er3","fixWinEPERMSync","rmdirSync","originalEr","rmkids","n","errState","f","rimrafSync","rmkidsSync","startTime","sync","remove","removeSync","emptyDir","dir","map","deleteItem","emptyDirSync","emptydirSync","emptydir","createFile","file","makeFile","createFileSync","createLink","srcpath","dstpath","makeLink","link","destinationExists","message","createLinkSync","linkSync","symlinkPaths","isAbsolute","dstdir","relativeToDst","relative","symlinkPathsSync","symlinkType","type","symlinkTypeSync","_mkdirs","_symlinkPaths","_symlinkType","createSymlink","toDst","toCwd","createSymlinkSync","ensureFile","ensureFileSync","ensureLink","ensureLinkSync","ensureSymlink","ensureSymlinkSync","_fs","shouldThrow","throws","stripBom","JSON","reviver","readFileSync","content","stringify","spaces","EOL","str","replacer","isBuffer","jsonfile","readJson","jsonFile","readJsonSync","writeJson","writeJsonSync","outputJson","itDoes","outputJsonSync","outputJSON","outputJSONSync","writeJSON","writeJSONSync","readJSON","readJSONSync","moveSync","doRename","renameSync","moveAcrossDevice","require$$3","move","destExists","outputFile","outputFileSync","assign","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","promises","isInGitRepository","execSync","stdio","isInMercurialRepository","tryGitInit","tryGitCommit","appPath","removeErr","appName","verbose","originalDirectory","templateName","appPackage","require","useYarn","log","chalk","cyan","templatePath","paths","templateJsonPath","templateJson","templatePackage","package","dependencies","scripts","yellow","templatePackageBlacklist","templatePackageToMerge","templatePackageToReplace","includes","templateScripts","build","entries","eslintConfig","extends","readmeExists","templateDir","green","readme","gitignoreExists","appendFileSync","initializedGit","command","dependenciesToInstall","devDependencies","concat","dependency","isReactInstalled","proc","spawn","status","find","arg","cdpath","displayedCommand","react"],"mappings":"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"}